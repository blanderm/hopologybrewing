{
    "version": 3,
    "terraform_version": "0.9.5",
    "serial": 56,
    "lineage": "018d55f9-5ea5-4fb8-bd1b-09e18c81d9f8",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "hopologybrewing-key-arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:kms:us-east-2:490474653742:key/91d6b3bf-bc48-4eb0-8b06-c9910d97ab46"
                },
                "region": {
                    "sensitive": false,
                    "type": "string",
                    "value": "us-east-2"
                }
            },
            "resources": {
                "aws_dynamodb_table.brew_info": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "brew_info",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-2:490474653742:table/brew_info",
                            "attribute.#": "1",
                            "attribute.1163194304.name": "brew_date",
                            "attribute.1163194304.type": "N",
                            "global_secondary_index.#": "0",
                            "hash_key": "brew_date",
                            "id": "brew_info",
                            "local_secondary_index.#": "0",
                            "name": "brew_info",
                            "read_capacity": "1",
                            "tags.%": "3",
                            "tags.creator": "Bryan Landerman",
                            "tags.name": "Brewery Temperature Controller",
                            "tags.purpose": "Defines a brew including key dates.",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_dynamodb_table.brew_recordings": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "brew_recordings",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-2:490474653742:table/brew_recordings",
                            "attribute.#": "3",
                            "attribute.1163194304.name": "brew_date",
                            "attribute.1163194304.type": "N",
                            "attribute.1444509877.name": "timestamp",
                            "attribute.1444509877.type": "N",
                            "attribute.3588486595.name": "type",
                            "attribute.3588486595.type": "S",
                            "global_secondary_index.#": "1",
                            "global_secondary_index.1019037606.hash_key": "brew_date",
                            "global_secondary_index.1019037606.name": "brew_date-index",
                            "global_secondary_index.1019037606.non_key_attributes.#": "0",
                            "global_secondary_index.1019037606.projection_type": "ALL",
                            "global_secondary_index.1019037606.range_key": "",
                            "global_secondary_index.1019037606.read_capacity": "1",
                            "global_secondary_index.1019037606.write_capacity": "1",
                            "hash_key": "type",
                            "id": "brew_recordings",
                            "local_secondary_index.#": "0",
                            "name": "brew_recordings",
                            "range_key": "timestamp",
                            "read_capacity": "30",
                            "tags.%": "3",
                            "tags.creator": "Bryan Landerman",
                            "tags.name": "Brewery Temperature Controller",
                            "tags.purpose": "Record temperature and output readings during fermentation and crashing",
                            "write_capacity": "2"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy_attachment.cloudwatch_policy_attach": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [],
                    "primary": {
                        "id": "hopologybrewing_lambda_function-00176e4e650d92ab771df7148c",
                        "attributes": {
                            "id": "hopologybrewing_lambda_function-00176e4e650d92ab771df7148c",
                            "policy_arn": "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess",
                            "role": "hopologybrewing_lambda_function"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy_attachment.dynamo_policy_attach": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [],
                    "primary": {
                        "id": "hopologybrewing_lambda_function-00176e4e650d92ab771df7148b",
                        "attributes": {
                            "id": "hopologybrewing_lambda_function-00176e4e650d92ab771df7148b",
                            "policy_arn": "arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess",
                            "role": "hopologybrewing_lambda_function"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_kms_alias.hopologybrewing-key": {
                    "type": "aws_kms_alias",
                    "depends_on": [
                        "aws_kms_key.hopologybrewing-key"
                    ],
                    "primary": {
                        "id": "alias/hopologybrewing-key",
                        "attributes": {
                            "arn": "arn:aws:kms:us-east-2:490474653742:alias/hopologybrewing-key",
                            "id": "alias/hopologybrewing-key",
                            "name": "alias/hopologybrewing-key",
                            "target_key_id": "91d6b3bf-bc48-4eb0-8b06-c9910d97ab46"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_kms_key.hopologybrewing-key": {
                    "type": "aws_kms_key",
                    "depends_on": [
                        "data.aws_caller_identity.current"
                    ],
                    "primary": {
                        "id": "91d6b3bf-bc48-4eb0-8b06-c9910d97ab46",
                        "attributes": {
                            "arn": "arn:aws:kms:us-east-2:490474653742:key/91d6b3bf-bc48-4eb0-8b06-c9910d97ab46",
                            "description": "Key used for sensitive info related to the hoplogybrewing brewery controller",
                            "enable_key_rotation": "false",
                            "id": "91d6b3bf-bc48-4eb0-8b06-c9910d97ab46",
                            "is_enabled": "true",
                            "key_id": "91d6b3bf-bc48-4eb0-8b06-c9910d97ab46",
                            "key_usage": "ENCRYPT_DECRYPT",
                            "policy": "{\"Id\":\"hopologybrewing-key-policy\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::490474653742:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Create*\",\"kms:Describe*\",\"kms:Enable*\",\"kms:List*\",\"kms:Put*\",\"kms:Update*\",\"kms:Revoke*\",\"kms:Disable*\",\"kms:Get*\",\"kms:Delete*\",\"kms:TagResource\",\"kms:UntagResource\",\"kms:ScheduleKeyDeletion\",\"kms:CancelKeyDeletion\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::490474653742:user/hopologybrewing\"},\"Resource\":\"*\",\"Sid\":\"Allow access for Key Administrators\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::490474653742:user/hopologybrewing\",\"arn:aws:iam::490474653742:role/hopologybrewing_lambda_function\"]},\"Resource\":\"*\",\"Sid\":\"Allow use of the key\"},{\"Action\":[\"kms:CreateGrant\",\"kms:ListGrants\",\"kms:RevokeGrant\"],\"Condition\":{\"Bool\":{\"kms:GrantIsForAWSResource\":\"true\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::490474653742:user/hopologybrewing\",\"arn:aws:iam::490474653742:role/hopologybrewing_lambda_function\"]},\"Resource\":\"*\",\"Sid\":\"Allow attachment of persistent resources\"}],\"Version\":\"2012-10-17\"}",
                            "tags.%": "3",
                            "tags.creator": "Bryan Landerman",
                            "tags.name": "Brewery Temperature Controller",
                            "tags.purpose": "Key used for sensitive info related to the hoplogybrewing brewery controller"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_caller_identity.current": {
                    "type": "aws_caller_identity",
                    "depends_on": [],
                    "primary": {
                        "id": "2017-06-27 16:46:07.014321214 +0000 UTC",
                        "attributes": {
                            "account_id": "490474653742",
                            "arn": "arn:aws:iam::490474653742:user/hopologybrewing",
                            "id": "2017-06-27 16:46:07.014321214 +0000 UTC",
                            "user_id": "AIDAISCDVIXRCKLULUMJI"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
